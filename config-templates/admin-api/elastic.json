{
  "headers": {
    "Authorization": "Basic <removed>"
  },
  "host": "<removed>:9200",
  "method": "POST",
  "protocol": "http",
  "template": "template_bpmn_liquio_search",
  "uri": "/bpmn_liquio_admin_logs/_search/template",
  "enabled": false,
  "timeout": 50000,
  "reindexCount": 100,
  "reindexQueueConcurrency": 10,
  "reindex": {
    "protocol": "<http>",
    "index": "<index>",
    "hostname": "<hostname>",
    "port": "<9200>",
    "token": "<token>"
  },
  "searchTemplatePushOnStart": false,
  "searchTemplateBody": {
    "script": {
      "lang": "mustache",
      "source": "{  \"query\":  {    \"bool\": {      \"filter\": [        {{#selected_search_text}}        {          \"dis_max\" : {            \"queries\" : [              {                \"query_string\": {                  \"fields\": [\"logs.details\", \"userData.userName\", \"createdBy.keyword\", \"userworkflowTemplate.name\", \"number\"],                  \"query\": \"{{selected_search_text}}\",                  \"default_operator\": \"and\"                }              }            ]          }        },        {{/selected_search_text}}        {{#selected_number}}        {            \"wildcard\":{                \"number.keyword\":{                    \"value\": \"*{{selected_number}}*\"                }            }        },        {{/selected_number}}        {{#selected_username}}        {          \"simple_query_string\": {              \"fields\": [\"userData.userName\",\"createdBy.keyword\",\"performerUsers.keyword\",\"performerUserNames\",\"signerUsers.keyword\",\"signerUserNames\"],              \"query\": \"{{selected_username}}\",              \"default_operator\": \"and\"            }        },        {{/selected_username}}        {{#selected_userId}}        {          \"simple_query_string\": {              \"fields\": [\"userData.userId\",\"userData.userId.keyword\",\"performerUsers.keyword\",\"performerUsers\",\"signerUsers.keyword\",\"signerUsers\"],              \"query\": \"{{selected_userId}}\",              \"default_operator\": \"and\"            }        },        {{/selected_userId}}        {{#selected_userworkflowTemplate}}        {          \"simple_query_string\": {              \"fields\": [\"userworkflowTemplate.name\"],              \"query\": \"{{selected_userworkflowTemplate}}\",              \"default_operator\": \"and\"            }        },        {{/selected_userworkflowTemplate}}        {{#selected_userworkflowTemplateId}}        {          \"term\": {              \"userworkflowTemplate.id\": {                \"value\": {{selected_userworkflowTemplateId}}           }   }        },        {{/selected_userworkflowTemplateId}}        {{#selected_createdAt_range_start}}        {           \"range\": {            \"createdAt\": {              \"gte\": \"{{selected_createdAt_range_start}}\"            }          }        },        {{/selected_createdAt_range_start}}        {{#selected_createdAt_range_end}}        {           \"range\": {            \"createdAt\": {              \"lte\": \"{{selected_createdAt_range_end}}\"            }          }        },        {{/selected_createdAt_range_end}}        {{#selected_updatedAt_range_start}}        {           \"range\": {            \"updatedAt\": {              \"gte\": \"{{selected_updatedAt_range_start}}\"            }          }        },        {{/selected_updatedAt_range_start}}        {{#selected_updatedAt_range_end}}        {           \"range\": {            \"updatedAt\": {              \"lte\": \"{{selected_updatedAt_range_end}}\"            }          }        },        {{/selected_updatedAt_range_end}}        {{#selected_isWorkflowContainsErrors}}        {          \"term\": {            \"isWorkflowContainsErrors\": {              \"value\": {{selected_isWorkflowContainsErrors}}            }          }        },        {{/selected_isWorkflowContainsErrors}}        {{#selected_hasUnresolvedErrors}}        {          \"term\": {            \"hasUnresolvedErrors\": {              \"value\": {{selected_hasUnresolvedErrors}}            }          }        },        {{/selected_hasUnresolvedErrors}}        {{#selected_workflowStatus}}        {          \"term\": {            \"userworkflowTemplate.data.statuses.label.keyword\": {              \"value\": \"{{selected_workflowStatus}}\"            }          }        },        {{/selected_workflowStatus}}        {{#selected_workflowStatusId}}        {          \"term\": {            \"workflowStatusId\": {              \"value\": {{selected_workflowStatusId}}            }          }        },        {{/selected_workflowStatusId}}        {{#selected_statuses}}        {          \"term\": {            \"statuses.label.keyword\": {              \"value\": \"{{selected_statuses}}\"            }          }        },        {{/selected_statuses}}        {{#selected_isDraft}}        {          \"bool\": {            \"must_not\": [               {\"exists\": {\"field\": \"workflowStatusId\"}}            ]          }        },        {{/selected_isDraft}}        {{#get_version}}            {\"exists\": {\"field\": \"1.1\"}},        {{/get_version}}        {\"exists\": {\"field\": \"_id\"}}      ]    }  },  \"track_total_hits\": true,  {{#selected_size}}  \"size\" : \"{{selected_size}}\"  {{#selected_from}}  ,  \"from\": \"{{selected_from}}\",  {{/selected_from}}  {{/selected_size}}  {{#get_workflowStatuses}}    \"aggs\": {        \"workflowTemplate_names\": {            \"terms\": {                \"field\": \"userworkflowTemplate.data.statuses.label.keyword\",                \"size\": 1000000            }        }    },  {{/get_workflowStatuses}}  {{#get_workflowTemplate_names}}    \"aggs\": {        \"workflowTemplate_names\": {            \"terms\": {                \"field\": \"userworkflowTemplate.name.keyword\",                \"size\": 100000            }        }    },  {{/get_workflowTemplate_names}}  \"sort\": [    {{#selected_sort_createdAt}}    {      \"createdAt\": {        \"order\": \"{{selected_sort_createdAt}}\"      }    },    {{/selected_sort_createdAt}}    {{#selected_sort_updatedAt}}    {      \"updatedAt\": {        \"order\": \"{{selected_sort_updatedAt}}\"      }    },    {{/selected_sort_updatedAt}}    {\"_score\" :  {\"order\": \"desc\"}}  ],  \"highlight\": {    \"fields\": [      {        \"userData.userName\": {}      },      {        \"createdBy.keyword\": {}      },      {        \"performerUsers.keyword\": {}      },      {        \"signerUsers.keyword\": {}      },      {        \"performerUserNames\": {}      },      {        \"signerUserNames\": {}      }    ]  }}"
    }
  }
}